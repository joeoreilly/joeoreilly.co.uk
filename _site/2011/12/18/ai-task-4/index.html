<!doctype HTML>
<html>

<head>
	<title>Joseph O'Reilly - AI - Task Sheet 4</title>
	
	<link rel="stylesheet" type="text/css" href="/css/core.css">
	<link rel="stylesheet" type="text/css" href="/css/styles/solarized_light.css">

	<script type="text/javascript" src="/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	
	<!-- <script type="text/javascript" src="//use.typekit.net/nyb3qqd.js"></script> -->
</head>

<body>
	
	<header>
		
		<h1><a href="/">Joe O'Reilly</a></h1>
		
		<hr/>
<nav>
	<a href="/">home</a> <a href="/blog/">blog</a> <a href="/work/">work</a> <a href="/cv/">cv</a>
</nav>
<hr/>
		
	</header>

<article>
        <header>
			<h2>AI - Task Sheet 4</h1>
				
			<p class="date">
				<span class="date">18 Dec 2011</span>
				
					
				
			</p>

        </header>

        <div class="entry"><h3>4.1</h3>

<h4>Approach an obstacle and stop</h4>

<p>Using the first algorithm in the lecture notes I built a program to move towards an obstacle until the sensor reading below a certain value.</p>

<h4>Algorithm One</h4>

<p><img src="/media/images/forward-until-1-mb.png" alt="" /></p>

<!-- Pseudo Code-->


<pre><code>var distance

while distance &lt;= 20cm
     distance = sensor reading

    if distance &gt; 20cm
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                move forwards 1cm

loop
</code></pre>

<p>Loop Control</p>

<p><img src="/media/images/forward-until-det.png" alt="" /></p>

<p>You can see there is one main loop, containing a sensor block and a compare block. The result of this comparision is then used to decide if the robot should move forwards or not. You can control the distance the robot wants to be at inside the compare block. The loop exits when the robot is closer than the tested distance away.</p>

<p>I went on to build a program to test the second alogrithm from the lecture notes.</p>

<h4>Algorithm Two</h4>

<p><img src="/media/images/forward-until-2-mb.png" alt="" /></p>

<p>Pseudo Code</p>

<pre><code>while distance &lt; 20cm
    var distance = ultrasonic sensor reading

    if distance &gt; 20cm
        switch motors on to move forward
    else
        switch motors off

loop
</code></pre>

<p>This algorithm contains two possible actions, move forwards and stop. When the robot reaches its target goal it stops when it hasn't reached its goal it moves forwards.</p>

<h4>Algorithm Three</h4>

<p><img src="/media/images/forward-until-3-mb.png" alt="" /></p>

<p>Pseudo Code</p>

<pre><code>while true
    var distance = ultrasonic sensor reading

    if distance &gt; 20cm
        switch motors on to move forwards
    else
        switch motors off

loop
</code></pre>

<h4>Algorithm Four</h4>

<p><img src="/media/images/forward-until-4-mb.png" alt="" /></p>

<p>Pseudo Code</p>

<pre><code>while true
    var distance = ultrasonic sensor reading

        if distance &gt; 20cm
            switch motors on to move forwards
        else
            if distance &lt; 20cm
                switch motors on to move backwards
            else
                switch all motors off

loop
</code></pre>

<h4>Observations of these Algorithms</h4>

<ul>
<li>Alogirthm 1 moving in bursts meant it often either overshoot its target. No correction for overshoots.</li>
<li>Alogirthm 2 still moved in bursts, it didn't overshoot its target my as much as 1. No correction for overshoots.</li>
<li>Alogirthm 3 moving continuously and reading was temperamental but if. No correction for overshoots.</li>
<li>Alogirthm 4 again continuous reading/moving was temperamental but correction for overshoots meant this worked best.</li>
</ul>


<p>Note: Slowing any of these alogirths down results in large improvements, reading is more accurate when the robot is slow as the bounce time for the sound more accurately reflects the actual distance.</p>

<h3>4.2</h3>

<h4>Station-Keeping</h4>

<p>The final algorthim from the last section proved fairly effective at this task however we had an idea of a better solution, here is the pseudo code as the actuall program is rather large</p>

<pre><code>while true
    var power = sensor reading - goal distance

        if sensor reading = 20cm
            stop
        else 
            if power &lt; 0
                move backwards at ((power * -1) + 15)
            else
                move forwards at (power + 15)

    loop
</code></pre>

<h3>4.3</h3>

<h4>Wall-Following</h4>

<p>Here is our wall following alogrithm expressed in pseudo code, too large in NXT software.</p>

<p>Reactive Control Algorithm</p>

<pre><code>var previous = sensor reading
var current

move forwards 0 .5 rotations

while true

    current = sensor reading

    if current &gt; 30 //on the right of the goal line
        if (current - previous) &gt; 0 //moving further away from goal
            turn slightly to the left and go forward 0 .5 rotations
        else  //moving towards the goal
            go straight ahead for 0 .5 rotations
    else //on the left of the goal line
        if (current – previous) &amp;lt; 0 //moving further away from goal
            turn slightly to the right and go forward 0 .5 rotations
    else //moving towards the goal
        go straight ahead for 0 .5 rotations

    current to previous

loop
</code></pre>

<p>It preformed very well at all distances, and didn't do anything unexpected like turning itself around.</p>

<p>Proportional Control Algorithm</p>

<pre><code>var previous = sensor reading
var current

let gain = 0.4
let goal = 20 // Distance we want to keep to

while true

    current = sensor readings

    if current in range [-1..goal..+1]
        forwards(1)
    else

    if current &gt; goal
        if current &lt; previous
            forwards(1)
        else
            turn(current - goal * gain * -1)
    else
        if current &lt; previous
            forwards(1)
        else
            turn(current - goal * gain)

    previous = current          

    handlebump()

loop
</code></pre>

<p>Proportional Derivative Control Algorithm</p>

<pre><code>var previous = sensor reading
var current

var derivative = 0

let p-gain = 0.4
let d-gain = 0.5

while true

    current sensor reading

    derivative = (derivative + current) / 2

    if current in range goal±1
        forwards(1)
    else

    if current &gt; goal
        if current &lt; previous
            forwards(1)
        else
            turn (((current - goal) * gain) * (derivative * d-gain) *  -1)
    else
        if current &lt; previous
            forwards(1)
        else
            turn (((current - goal) * gain) * (derivative * d-gain))

    previous = sensor reading

    handlebump()

loop
</code></pre>
</div>

</article>

<br/>

<footer>

<p>&copy; 2014 Joseph O'Reilly - All work under <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/">CC BY-NC-ND 3.0</a> - <a href="http://www.github.com/joeoreilly">GitHub</a> - <a href="http://careers.stackoverflow.com/joeoreilly ">Careers 2.0</a> - <a href="http://twitter.com/joeoreilly">Twitter</a> - <script type="text/javascript">
//<![CDATA[
<!--
var x="function f(x){var i,o=\"\",ol=x.length,l=ol;while(x.charCodeAt(l/13)!" +
"=111){try{x+=x;l+=l;}catch(e){}}for(i=l-1;i>=0;i--){o+=x.charAt(i);}return " +
"o.substr(0,ol);}f(\")02,\\\"-%/:0/q 2aejgL6%Z|hokdRY2\\\\\\\\320\\\\n\\\\43" +
"0\\\\310\\\\030\\\\<U000\\\\020\\\\320\\\\500\\\\630\\\\000\\\\-O0V710\\\\5" +
"00\\\\430\\\\610\\\\220\\\\EF?t\\\\420\\\\N0=s%760=%90;9220\\\\%3.:##(p&<+/" +
"$)a630\\\\|&ZLU430\\\\F230\\\\700\\\\410\\\\MNDTvlj2ot|ubuzp\\\"(f};o nrute" +
"r};))++y(^)i(tAedoCrahc.x(edoCrahCmorf.gnirtS=+o;721=%y;i=+y)02==i(fi{)++i;" +
"l<i;0=i(rof;htgnel.x=l,\\\"\\\"=o,i rav{)y,x(f noitcnuf\")"                  ;
while(x=eval(x));
//-->
//]]>
</script>

</p></footer>

</body>

</html>

<script>
	hljs.initHighlightingOnLoad();	
</script>
